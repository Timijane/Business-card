<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MEET — Conference</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --primary:#0061FF;
    --accent:#5AE4A8;
    --bg:#f7f9fb;
    --card:#fff;
    --text:#111827;
    --muted:#6b7280;
    --radius:12px;
    --shadow: 0 6px 18px rgba(16,24,40,0.06);
    --conf-gradient: linear-gradient(135deg, #0061FF 0%, #5AE4A8 100%);
  }
  body.dark {
    --bg:#081226;
    --card:#0b1726;
    --text:#e6eef8;
    --muted:#93a3bd;
    --shadow: 0 6px 18px rgba(0,0,0,0.6);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Inter,system-ui,Segoe UI,Arial;
    background:var(--bg);
    color:var(--text);
    height:100vh;
    display:flex;
    flex-direction:column;
    transition:background .35s,color .35s;
  }

  /* header */
  header{
    display:flex;
    align-items:center;
    gap:16px;
    padding:12px 20px;
    background:var(--card);
    box-shadow:var(--shadow);
    position:sticky;
    top:0;
    z-index:50;
  }
  .left {
    display:flex;
    align-items:center;
    gap:12px;
  }
  .logo-icon{
    width:44px;height:44px;border-radius:8px;
    background:linear-gradient(135deg,var(--primary),var(--accent));
    display:flex;align-items:center;justify-content:center;
    -webkit-mask:url('#m-mask');mask:url('#m-mask') center/contain no-repeat;
  }
  .brand {
    font-weight:700;font-size:18px;color:var(--primary);
  }
  .search {
    flex:1;display:flex;align-items:center;gap:10px;background:#eef3ff;border-radius:10px;padding:8px 12px;
    max-width:600px;
  }
  body.dark .search{background:#0f2134}
  .search input{border:0;background:transparent;outline:none;width:100%;color:var(--text)}
  .header-right{display:flex;align-items:center;gap:10px}

  .status-dot{
    width:10px;height:10px;border-radius:50%;background:#34D399;border:2px solid var(--card);box-shadow:0 0 0 4px rgba(52,211,153,0.09);
    display:inline-block;margin-left:6px;
  }

  /* layout */
  .layout{display:flex;flex:1;overflow:hidden}
  aside{
    width:240px;background:var(--card);padding:18px;border-right:1px solid rgba(0,0,0,0.03);
    display:flex;flex-direction:column;gap:8px;box-shadow:var(--shadow);
    transition: width 0.3s ease;
  }
  aside button{
    border:0;background:transparent;padding:12px 14px;border-radius:10px;text-align:left;font-weight:600;color:var(--muted);cursor:pointer;
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    width: 100%;
    font-family: inherit;
    font-size: inherit;
  }
  aside button.active{color:var(--primary);background:linear-gradient(90deg, rgba(0,97,255,0.06), rgba(90,228,168,0.03));}
  aside button .menu-text {
    transition: opacity 0.3s ease;
  }
  main{flex:1;padding:20px;overflow:auto}

  /* Conference Styles */
  .conference-container {
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
  }

  .conference-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
  }

  .conference-title {
    font-size: 28px;
    font-weight: 700;
    background: var(--conf-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 0;
  }

  .conference-actions {
    display: flex;
    gap: 15px;
  }

  .new-meeting-btn {
    background: linear-gradient(90deg, var(--primary), var(--accent));
    color: white;
    border: 0;
    padding: 12px 20px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: transform 0.2s;
  }

  .new-meeting-btn:hover {
    transform: translateY(-2px);
  }

  .join-meeting-btn {
    background: var(--card);
    border: 1px solid rgba(0,0,0,0.08);
    padding: 12px 20px;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s;
  }

  body.dark .join-meeting-btn {
    border: 1px solid rgba(255,255,255,0.1);
  }

  .join-meeting-btn:hover {
    background: rgba(0,97,255,0.05);
  }

  /* Conference Cards */
  .conference-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
  }

  .conference-card {
    background: var(--card);
    border-radius: var(--radius);
    padding: 20px;
    box-shadow: var(--shadow);
    transition: transform 0.3s;
    position: relative;
    overflow: hidden;
  }

  .conference-card:hover {
    transform: translateY(-5px);
  }

  .conference-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: var(--conf-gradient);
  }

  .card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 15px;
  }

  .card-title {
    font-size: 18px;
    font-weight: 700;
    margin: 0;
  }

  .meeting-id {
    background: rgba(0,97,255,0.1);
    color: var(--primary);
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
  }

  .card-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    font-size: 14px;
    color: var(--muted);
  }

  .participants {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .participant-avatars {
    display: flex;
  }

  .participant-avatar {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--card);
    margin-left: -8px;
  }

  .participant-avatar:first-child {
    margin-left: 0;
  }

  .card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .join-btn {
    background: var(--primary);
    color: white;
    border: 0;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
  }

  .join-btn:hover {
    background: #0052d9;
  }

  .copy-btn {
    background: transparent;
    border: 1px solid rgba(0,0,0,0.1);
    color: var(--muted);
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
  }

  body.dark .copy-btn {
    border: 1px solid rgba(255,255,255,0.1);
  }

  .copy-btn:hover {
    background: rgba(0,0,0,0.05);
  }

  /* Conference Room */
  .conference-room {
    display: none;
    flex-direction: column;
    height: 100%;
    background: var(--bg);
  }

  .room-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: var(--card);
    box-shadow: var(--shadow);
  }

  .room-title {
    font-size: 18px;
    font-weight: 700;
    margin: 0;
  }

  .room-meta {
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 14px;
    color: var(--muted);
  }

  .room-id {
    background: rgba(0,97,255,0.1);
    color: var(--primary);
    padding: 4px 8px;
    border-radius: 6px;
    font-weight: 600;
  }

  .room-controls {
    display: flex;
    gap: 10px;
  }

  .control-btn {
    background: transparent;
    border: 1px solid rgba(0,0,0,0.1);
    color: var(--muted);
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
  }

  body.dark .control-btn {
    border: 1px solid rgba(255,255,255,0.1);
  }

  .control-btn:hover {
    background: rgba(0,0,0,0.05);
    color: var(--text);
  }

  .control-btn.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
  }

  .control-btn.danger {
    background: #ff4757;
    color: white;
    border-color: #ff4757;
  }

  .control-btn.danger:hover {
    background: #ff3742;
  }

  .room-content {
    flex: 1;
    display: flex;
    overflow: hidden;
  }

  .video-grid {
    flex: 1;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 10px;
    padding: 20px;
    overflow-y: auto;
  }

  .video-container {
    position: relative;
    background: var(--card);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    aspect-ratio: 16/9;
  }

  .video-container.main {
    grid-column: 1 / -1;
  }

  .video-element {
    width: 100%;
    height: 100%;
    object-fit: cover;
    background: #000;
  }

  .video-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.7));
    padding: 10px;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .participant-name {
    font-weight: 600;
    font-size: 14px;
  }

  .participant-status {
    display: flex;
    gap: 5px;
  }

  .status-icon {
    font-size: 12px;
  }

  .video-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--card);
    color: var(--muted);
  }

  .placeholder-icon {
    font-size: 40px;
    margin-bottom: 10px;
  }

  .sidebar {
    width: 300px;
    background: var(--card);
    border-left: 1px solid rgba(0,0,0,0.05);
    display: flex;
    flex-direction: column;
    box-shadow: var(--shadow);
  }

  body.dark .sidebar {
    border-left: 1px solid rgba(255,255,255,0.05);
  }

  .sidebar-tabs {
    display: flex;
    border-bottom: 1px solid rgba(0,0,0,0.05);
  }

  body.dark .sidebar-tabs {
    border-bottom: 1px solid rgba(255,255,255,0.05);
  }

  .sidebar-tab {
    flex: 1;
    background: transparent;
    border: 0;
    padding: 12px;
    font-weight: 600;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.2s;
  }

  .sidebar-tab.active {
    color: var(--primary);
    border-bottom: 2px solid var(--primary);
  }

  .sidebar-content {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
  }

  .participants-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .participant-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px;
    border-radius: 8px;
    transition: background 0.2s;
  }

  .participant-item:hover {
    background: rgba(0,0,0,0.05);
  }

  body.dark .participant-item:hover {
    background: rgba(255,255,255,0.05);
  }

  .participant-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
  }

  .participant-info {
    flex: 1;
  }

  .participant-name {
    font-weight: 600;
    font-size: 14px;
  }

  .participant-role {
    font-size: 12px;
    color: var(--muted);
  }

  .participant-actions {
    display: flex;
    gap: 5px;
  }

  .action-btn {
    background: transparent;
    border: 0;
    color: var(--muted);
    cursor: pointer;
    font-size: 14px;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s;
  }

  .action-btn:hover {
    background: rgba(0,0,0,0.05);
    color: var(--text);
  }

  body.dark .action-btn:hover {
    background: rgba(255,255,255,0.1);
  }

  .chat-messages {
    display: flex;
    flex-direction: column;
    gap: 10px;
    height: 100%;
  }

  .messages-list {
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 15px;
  }

  .message {
    padding: 10px;
    border-radius: 8px;
    max-width: 85%;
    animation: messageAppear 0.3s ease-out;
  }

  @keyframes messageAppear {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .message.received {
    background: rgba(0,0,0,0.05);
    align-self: flex-start;
  }

  body.dark .message.received {
    background: rgba(255,255,255,0.05);
  }

  .message.sent {
    background: rgba(0,97,255,0.1);
    align-self: flex-end;
  }

  .message-sender {
    font-weight: 600;
    font-size: 12px;
    margin-bottom: 4px;
  }

  .message-text {
    font-size: 14px;
    line-height: 1.4;
  }

  .message-time {
    font-size: 10px;
    color: var(--muted);
    text-align: right;
    margin-top: 4px;
  }

  .chat-input {
    display: flex;
    gap: 10px;
  }

  .chat-input input {
    flex: 1;
    padding: 10px 12px;
    border-radius: 20px;
    border: 1px solid rgba(0,0,0,0.1);
    background: var(--bg);
    font-family: inherit;
    font-size: 14px;
  }

  body.dark .chat-input input {
    border: 1px solid rgba(255,255,255,0.1);
  }

  .chat-input button {
    background: var(--primary);
    color: white;
    border: 0;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.2s;
  }

  .chat-input button:hover {
    background: #0052d9;
  }

  .room-footer {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    padding: 15px 20px;
    background: var(--card);
    box-shadow: var(--shadow);
  }

  .footer-control {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
  }

  .footer-btn {
    background: var(--card);
    border: 1px solid rgba(0,0,0,0.1);
    color: var(--text);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 18px;
  }

  body.dark .footer-btn {
    border: 1px solid rgba(255,255,255,0.1);
  }

  .footer-btn:hover {
    background: rgba(0,0,0,0.05);
  }

  body.dark .footer-btn:hover {
    background: rgba(255,255,255,0.1);
  }

  .footer-btn.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
  }

  .footer-btn.danger {
    background: #ff4757;
    color: white;
    border-color: #ff4757;
  }

  .footer-btn.danger:hover {
    background: #ff3742;
  }

  .footer-label {
    font-size: 12px;
    color: var(--muted);
  }

  /* Modal Styles */
  .modal-wrap {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(2,6,23,0.5);
    z-index: 100;
    padding: 20px;
  }

  .modal {
    width: 100%;
    max-width: 500px;
    border-radius: 12px;
    background: var(--card);
    padding: 25px;
    box-shadow: var(--shadow);
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .modal-title {
    font-size: 20px;
    font-weight: 700;
    margin: 0;
  }

  .close-modal {
    background: transparent;
    border: 0;
    font-size: 20px;
    cursor: pointer;
    color: var(--muted);
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .close-modal:hover {
    background: rgba(0,0,0,0.05);
  }

  body.dark .close-modal:hover {
    background: rgba(255,255,255,0.1);
  }

  .form-group {
    margin-bottom: 20px;
  }

  .form-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 8px;
  }

  .form-input {
    width: 100%;
    padding: 12px 15px;
    border-radius: 8px;
    border: 1px solid rgba(0,0,0,0.1);
    background: var(--bg);
    font-family: inherit;
    font-size: 14px;
    transition: border 0.2s;
  }

  body.dark .form-input {
    border: 1px solid rgba(255,255,255,0.1);
    background: var(--card);
  }

  .form-input:focus {
    outline: none;
    border-color: var(--primary);
  }

  .meeting-id-display {
    background: rgba(0,97,255,0.1);
    border: 1px dashed var(--primary);
    border-radius: 8px;
    padding: 15px;
    text-align: center;
    margin-bottom: 20px;
  }

  .meeting-id-value {
    font-size: 24px;
    font-weight: 700;
    color: var(--primary);
    margin: 10px 0;
    letter-spacing: 2px;
  }

  .meeting-id-note {
    font-size: 12px;
    color: var(--muted);
  }

  .modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    margin-top: 20px;
  }

  .cancel-btn {
    background: transparent;
    border: 1px solid rgba(0,0,0,0.1);
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
  }

  body.dark .cancel-btn {
    border: 1px solid rgba(255,255,255,0.1);
  }

  .cancel-btn:hover {
    background: rgba(0,0,0,0.05);
  }

  body.dark .cancel-btn:hover {
    background: rgba(255,255,255,0.1);
  }

  .action-btn {
    background: linear-gradient(90deg, var(--primary), var(--accent));
    color: white;
    border: 0;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.2s;
  }

  .action-btn:hover {
    transform: translateY(-2px);
  }

  /* Responsive */
  @media (max-width:900px){
    aside {
      width: 70px;
    }
    aside button {
      justify-content: center;
      padding: 10px 6px;
    }
    .menu-text {
      opacity: 0;
      width: 0;
      overflow: hidden;
    }
    .search {
      max-width: 400px;
    }
    .conference-cards {
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    }
    .sidebar {
      width: 250px;
    }
    .room-content {
      flex-direction: column;
    }
    .sidebar {
      width: 100%;
      height: 300px;
      border-left: none;
      border-top: 1px solid rgba(0,0,0,0.05);
    }
    body.dark .sidebar {
      border-top: 1px solid rgba(255,255,255,0.05);
    }
  }
  
  @media (max-width:768px){
    .search {
      max-width: 300px;
    }
    .conference-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 15px;
    }
    .conference-actions {
      width: 100%;
      justify-content: space-between;
    }
    .video-grid {
      grid-template-columns: 1fr;
    }
    .room-footer {
      padding: 10px;
    }
    .footer-btn {
      width: 40px;
      height: 40px;
      font-size: 16px;
    }
  }
  
  @media (max-width:640px){
    .search {
      max-width: 200px;
    }
    .conference-cards {
      grid-template-columns: 1fr;
    }
    .room-meta {
      flex-direction: column;
      gap: 5px;
      align-items: flex-start;
    }
  }
  
  @media (max-width:480px){
    .search {
      max-width: 150px;
    }
    .brand {
      display: none;
    }
    .conference-actions {
      flex-direction: column;
      gap: 10px;
    }
    .new-meeting-btn, .join-meeting-btn {
      width: 100%;
      justify-content: center;
    }
    .footer-control {
      min-width: 60px;
    }
  }
</style>
</head>
<body>

<!-- SVG mask resource -->
<svg style="position:absolute;width:0;height:0" aria-hidden>
  <defs>
    <mask id="m-mask" viewBox="0 0 100 100">
      <path fill="white" d="M10 80 L10 20 L30 60 L50 20 L70 60 L90 20 L90 80 L70 40 L50 80 L30 40 Z"/>
    </mask>
  </defs>
</svg>

<header>
  <div class="left">
    <div class="logo-icon" title="MEET"></div>
    <div class="brand">MEET</div>
  </div>

  <div class="search">
    <span>🔍</span>
    <input id="search" placeholder="Search conferences..." />
  </div>

  <div class="header-right">
    <div style="display:flex;align-items:center;gap:8px">
      <div style="font-size:12px;color:var(--muted)">Online</div>
      <div class="status-dot" title="You are online"></div>
    </div>
    <button id="darkToggle" title="Toggle dark mode">🌙</button>
    <div style="display:flex;align-items:center;gap:8px">
      <img id="userPic" src="https://i.pravatar.cc/100?img=5" style="width:42px;height:42px;border-radius:50%;border:2px solid #fff;object-fit:cover" alt="You">
      <div style="font-weight:700">Alex</div>
    </div>
  </div>
</header>

<div class="layout">
  <aside>
    <button onclick="location.href='feed.html'">
      🏠 <span class="menu-text">Feed</span>
    </button>
    <button onclick="location.href='chat.html'">
      💬 <span class="menu-text">Chat</span>
    </button>
    <button class="active" onclick="location.href='conference.html'">
      🎥 <span class="menu-text">Conference</span>
    </button>
    <button onclick="location.href='marketplace.html'">
      🛒 <span class="menu-text">Marketplace</span>
    </button>
    <button onclick="location.href='profile.html'">
      👤 <span class="menu-text">Profile</span>
    </button>
    <button onclick="location.href='meetversity.html'">
      🎓 <span class="menu-text">Meetversity</span>
    </button>
    <button onclick="location.href='organization.html'">
      🏢 <span class="menu-text">Organization</span>
    </button>

    <div style="flex:1"></div>
    <button id="goLive" style="background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;border:0;padding:10px;border-radius:10px;font-weight:700;display:flex;align-items:center;gap:12px;justify-content:center">
      <span class="menu-text">Go Live</span>
    </button>
  </aside>

  <main>
    <!-- Conference Dashboard -->
    <div class="conference-container" id="conferenceDashboard">
      <!-- Conference Header -->
      <div class="conference-header">
        <h1 class="conference-title">Conference</h1>
        <div class="conference-actions">
          <button class="join-meeting-btn" id="joinMeetingBtn">
            <span>🔗</span> Join Meeting
          </button>
          <button class="new-meeting-btn" id="newMeetingBtn">
            <span>+</span> New Meeting
          </button>
        </div>
      </div>

      <!-- Scheduled Conferences -->
      <div class="section-header">
        <h2 class="section-title">Scheduled Conferences</h2>
      </div>
      <div class="conference-cards" id="conferenceCards">
        <!-- Conference cards will be populated by JavaScript -->
      </div>

      <!-- Recent Conferences -->
      <div class="section-header">
        <h2 class="section-title">Recent Conferences</h2>
      </div>
      <div class="conference-cards" id="recentConferences">
        <!-- Recent conference cards will be populated by JavaScript -->
      </div>
    </div>

    <!-- Conference Room -->
    <div class="conference-room" id="conferenceRoom">
      <div class="room-header">
        <h2 class="room-title" id="roomTitle">Team Standup Meeting</h2>
        <div class="room-meta">
          <div class="room-id" id="roomId">MEET-7B3K9P</div>
          <div class="room-duration" id="roomDuration">00:05:32</div>
          <div class="participants-count">👥 <span id="participantsCount">4</span> participants</div>
        </div>
        <div class="room-controls">
          <button class="control-btn" id="inviteBtn" title="Invite People">👥</button>
          <button class="control-btn" id="recordBtn" title="Record Meeting">⏺️</button>
          <button class="control-btn" id="screenShareBtn" title="Share Screen">🖥️</button>
          <button class="control-btn" id="moreBtn" title="More Options">⋯</button>
        </div>
      </div>

      <div class="room-content">
        <div class="video-grid" id="videoGrid">
          <!-- Video containers will be populated by JavaScript -->
        </div>

        <div class="sidebar">
          <div class="sidebar-tabs">
            <button class="sidebar-tab active" data-tab="participants">Participants</button>
            <button class="sidebar-tab" data-tab="chat">Chat</button>
          </div>
          <div class="sidebar-content">
            <!-- Participants Tab -->
            <div class="sidebar-tab-content active" id="participantsTab">
              <div class="participants-list" id="participantsList">
                <!-- Participants will be populated by JavaScript -->
              </div>
            </div>

            <!-- Chat Tab -->
            <div class="sidebar-tab-content" id="chatTab">
              <div class="chat-messages">
                <div class="messages-list" id="messagesList">
                  <!-- Messages will be populated by JavaScript -->
                </div>
                <div class="chat-input">
                  <input type="text" id="chatInput" placeholder="Type a message...">
                  <button id="sendMessageBtn">➤</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="room-footer">
        <div class="footer-control">
          <button class="footer-btn" id="micBtn" title="Microphone">
            🎤
          </button>
          <div class="footer-label">Mute</div>
        </div>
        <div class="footer-control">
          <button class="footer-btn" id="cameraBtn" title="Camera">
            📹
          </button>
          <div class="footer-label">Camera</div>
        </div>
        <div class="footer-control">
          <button class="footer-btn" id="raiseHandBtn" title="Raise Hand">
            ✋
          </button>
          <div class="footer-label">Raise Hand</div>
        </div>
        <div class="footer-control">
          <button class="footer-btn" id="bellBtn" title="Ring Bell">
            🔔
          </button>
          <div class="footer-label">Bell</div>
        </div>
        <div class="footer-control">
          <button class="footer-btn" id="speakerBtn" title="Speaker">
            🔊
          </button>
          <div class="footer-label">Speaker</div>
        </div>
        <div class="footer-control">
          <button class="footer-btn danger" id="leaveBtn" title="Leave Meeting">
            📞
          </button>
          <div class="footer-label">Leave</div>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- New Meeting Modal -->
<div class="modal-wrap" id="newMeetingModal">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="modal-header">
      <h2 class="modal-title">Start New Meeting</h2>
      <button class="close-modal" id="closeNewMeetingModal">✕</button>
    </div>
    
    <div class="meeting-id-display">
      <div>Your Meeting ID</div>
      <div class="meeting-id-value" id="generatedMeetingId">MEET-7B3K9P</div>
      <div class="meeting-id-note">Share this ID with participants to join your meeting</div>
    </div>
    
    <div class="form-group">
      <label class="form-label" for="meetingTopic">Meeting Topic (Optional)</label>
      <input type="text" class="form-input" id="meetingTopic" placeholder="e.g., Team Standup, Project Review">
    </div>
    
    <div class="modal-actions">
      <button class="cancel-btn" id="cancelNewMeeting">Cancel</button>
      <button class="action-btn" id="startMeeting">Start Meeting</button>
    </div>
  </div>
</div>

<!-- Join Meeting Modal -->
<div class="modal-wrap" id="joinMeetingModal">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="modal-header">
      <h2 class="modal-title">Join a Meeting</h2>
      <button class="close-modal" id="closeJoinMeetingModal">✕</button>
    </div>
    
    <div class="form-group">
      <label class="form-label" for="meetingIdInput">Meeting ID</label>
      <input type="text" class="form-input" id="meetingIdInput" placeholder="Enter meeting ID (e.g., MEET-7B3K9P)">
    </div>
    
    <div class="form-group">
      <label class="form-label" for="participantName">Your Name</label>
      <input type="text" class="form-input" id="participantName" placeholder="Enter your name" value="Alex">
    </div>
    
    <div class="modal-actions">
      <button class="cancel-btn" id="cancelJoinMeeting">Cancel</button>
      <button class="action-btn" id="joinMeeting">Join Meeting</button>
    </div>
  </div>
</div>

<!-- Invite Modal -->
<div class="modal-wrap" id="inviteModal">
  <div class="modal" role="dialog" aria-modal="true">
    <div class="modal-header">
      <h2 class="modal-title">Invite People</h2>
      <button class="close-modal" id="closeInviteModal">✕</button>
    </div>
    
    <div class="meeting-id-display">
      <div>Meeting ID</div>
      <div class="meeting-id-value" id="inviteMeetingId">MEET-7B3K9P</div>
      <div class="meeting-id-note">Share this ID with participants to join your meeting</div>
    </div>
    
    <div class="form-group">
      <label class="form-label">Invite Link</label>
      <div style="display:flex;gap:10px">
        <input type="text" class="form-input" id="inviteLink" value="https://meet.app/join/MEET-7B3K9P" readonly>
        <button class="copy-btn" id="copyInviteLink">Copy</button>
      </div>
    </div>
    
    <div class="modal-actions">
      <button class="cancel-btn" id="closeInvite">Close</button>
    </div>
  </div>
</div>

<script>
// Mock data for conferences
const mockConferences = [
  {
    id: 'conf1',
    title: 'Team Standup Meeting',
    meetingId: 'MEET-7B3K9P',
    date: 'Today, 10:00 AM',
    duration: '30 min',
    participants: 4,
    participantAvatars: [
      'https://i.pravatar.cc/100?img=5',
      'https://i.pravatar.cc/100?img=14',
      'https://i.pravatar.cc/100?img=22',
      'https://i.pravatar.cc/100?img=32'
    ],
    isActive: true
  },
  {
    id: 'conf2',
    title: 'Product Design Review',
    meetingId: 'MEET-4D2F8R',
    date: 'Tomorrow, 2:00 PM',
    duration: '1 hour',
    participants: 6,
    participantAvatars: [
      'https://i.pravatar.cc/100?img=5',
      'https://i.pravatar.cc/100?img=14',
      'https://i.pravatar.cc/100?img=22',
      'https://i.pravatar.cc/100?img=32',
      'https://i.pravatar.cc/100?img=45',
      'https://i.pravatar.cc/100?img=12'
    ],
    isActive: false
  },
  {
    id: 'conf3',
    title: 'Client Presentation',
    meetingId: 'MEET-9G5H2Q',
    date: 'Friday, 11:00 AM',
    duration: '45 min',
    participants: 8,
    participantAvatars: [
      'https://i.pravatar.cc/100?img=5',
      'https://i.pravatar.cc/100?img=14',
      'https://i.pravatar.cc/100?img=22'
    ],
    isActive: false
  }
];

const mockRecentConferences = [
  {
    id: 'recent1',
    title: 'Weekly Team Sync',
    meetingId: 'MEET-3K8J7N',
    date: 'Yesterday, 9:30 AM',
    duration: '1 hour',
    participants: 5
  },
  {
    id: 'recent2',
    title: 'Project Kickoff',
    meetingId: 'MEET-6M4P9Q',
    date: 'May 15, 3:00 PM',
    duration: '2 hours',
    participants: 12
  },
  {
    id: 'recent3',
    title: 'Design Workshop',
    meetingId: 'MEET-2R7T5S',
    date: 'May 10, 1:00 PM',
    duration: '1.5 hours',
    participants: 7
  }
];

// Mock data for participants
const mockParticipants = [
  {
    id: 'part1',
    name: 'Alex Johnson',
    avatar: 'https://i.pravatar.cc/100?img=5',
    role: 'Host',
    isAudioEnabled: true,
    isVideoEnabled: true,
    isHandRaised: false
  },
  {
    id: 'part2',
    name: 'Sarah Williams',
    avatar: 'https://i.pravatar.cc/100?img=14',
    role: 'Participant',
    isAudioEnabled: true,
    isVideoEnabled: true,
    isHandRaised: false
  },
  {
    id: 'part3',
    name: 'Marcus Lee',
    avatar: 'https://i.pravatar.cc/100?img=22',
    role: 'Participant',
    isAudioEnabled: false,
    isVideoEnabled: true,
    isHandRaised: true
  },
  {
    id: 'part4',
    name: 'Emily Chen',
    avatar: 'https://i.pravatar.cc/100?img=32',
    role: 'Participant',
    isAudioEnabled: true,
    isVideoEnabled: false,
    isHandRaised: false
  }
];

// Mock data for chat messages
const mockMessages = [
  {
    id: 'msg1',
    sender: 'Sarah Williams',
    text: 'Hi everyone! Thanks for joining.',
    time: '10:01 AM',
    isSent: false
  },
  {
    id: 'msg2',
    sender: 'Alex Johnson',
    text: 'Good morning! Let\'s start with updates from each team.',
    time: '10:02 AM',
    isSent: true
  },
  {
    id: 'msg3',
    sender: 'Marcus Lee',
    text: 'I\'ll share my screen to show the progress on the new feature.',
    time: '10:05 AM',
    isSent: false
  }
];

// State
let currentMeeting = null;
let isAudioEnabled = true;
let isVideoEnabled = true;
let isHandRaised = false;
let isBellRinging = false;
let isSpeakerEnabled = true;
let meetingDuration = 0;
let durationInterval = null;
let localStream = null;

// DOM Elements
const conferenceDashboard = document.getElementById('conferenceDashboard');
const conferenceRoom = document.getElementById('conferenceRoom');
const newMeetingBtn = document.getElementById('newMeetingBtn');
const joinMeetingBtn = document.getElementById('joinMeetingBtn');
const conferenceCards = document.getElementById('conferenceCards');
const recentConferences = document.getElementById('recentConferences');
const newMeetingModal = document.getElementById('newMeetingModal');
const closeNewMeetingModal = document.getElementById('closeNewMeetingModal');
const cancelNewMeeting = document.getElementById('cancelNewMeeting');
const startMeeting = document.getElementById('startMeeting');
const generatedMeetingId = document.getElementById('generatedMeetingId');
const joinMeetingModal = document.getElementById('joinMeetingModal');
const closeJoinMeetingModal = document.getElementById('closeJoinMeetingModal');
const cancelJoinMeeting = document.getElementById('cancelJoinMeeting');
const joinMeeting = document.getElementById('joinMeeting');
const meetingIdInput = document.getElementById('meetingIdInput');
const roomTitle = document.getElementById('roomTitle');
const roomId = document.getElementById('roomId');
const roomDuration = document.getElementById('roomDuration');
const participantsCount = document.getElementById('participantsCount');
const videoGrid = document.getElementById('videoGrid');
const participantsList = document.getElementById('participantsList');
const messagesList = document.getElementById('messagesList');
const chatInput = document.getElementById('chatInput');
const sendMessageBtn = document.getElementById('sendMessageBtn');
const sidebarTabs = document.querySelectorAll('.sidebar-tab');
const sidebarTabContents = document.querySelectorAll('.sidebar-tab-content');
const micBtn = document.getElementById('micBtn');
const cameraBtn = document.getElementById('cameraBtn');
const raiseHandBtn = document.getElementById('raiseHandBtn');
const bellBtn = document.getElementById('bellBtn');
const speakerBtn = document.getElementById('speakerBtn');
const leaveBtn = document.getElementById('leaveBtn');
const inviteBtn = document.getElementById('inviteBtn');
const inviteModal = document.getElementById('inviteModal');
const closeInviteModal = document.getElementById('closeInviteModal');
const closeInvite = document.getElementById('closeInvite');
const inviteMeetingId = document.getElementById('inviteMeetingId');
const inviteLink = document.getElementById('inviteLink');
const copyInviteLink = document.getElementById('copyInviteLink');

// Initialize
function initConference() {
  renderConferences();
  renderRecentConferences();
  setupEventListeners();
}

// Render conferences
function renderConferences() {
  conferenceCards.innerHTML = '';
  
  mockConferences.forEach(conf => {
    const conferenceCard = document.createElement('div');
    conferenceCard.className = 'conference-card';
    
    conferenceCard.innerHTML = `
      <div class="card-header">
        <h3 class="card-title">${conf.title}</h3>
        <div class="meeting-id">${conf.meetingId}</div>
      </div>
      <div class="card-meta">
        <div class="date">📅 ${conf.date}</div>
        <div class="duration">⏱ ${conf.duration}</div>
      </div>
      <div class="card-meta">
        <div class="participants">
          <div class="participant-avatars">
            ${conf.participantAvatars.map(avatar => `
              <img src="${avatar}" class="participant-avatar">
            `).join('')}
          </div>
          <span>${conf.participants} participants</span>
        </div>
      </div>
      <div class="card-footer">
        <button class="copy-btn">Copy ID</button>
        <button class="join-btn">${conf.isActive ? 'Join' : 'Schedule'}</button>
      </div>
    `;
    
    // Add event listeners
    const joinBtn = conferenceCard.querySelector('.join-btn');
    const copyBtn = conferenceCard.querySelector('.copy-btn');
    
    joinBtn.addEventListener('click', () => {
      if (conf.isActive) {
        joinConference(conf);
      } else {
        // In a real app, this would schedule the conference
        alert(`Conference "${conf.title}" is scheduled for ${conf.date}`);
      }
    });
    
    copyBtn.addEventListener('click', () => {
      copyToClipboard(conf.meetingId);
      showToast('Meeting ID copied to clipboard');
    });
    
    conferenceCards.appendChild(conferenceCard);
  });
}

// Render recent conferences
function renderRecentConferences() {
  recentConferences.innerHTML = '';
  
  mockRecentConferences.forEach(conf => {
    const conferenceCard = document.createElement('div');
    conferenceCard.className = 'conference-card';
    
    conferenceCard.innerHTML = `
      <div class="card-header">
        <h3 class="card-title">${conf.title}</h3>
        <div class="meeting-id">${conf.meetingId}</div>
      </div>
      <div class="card-meta">
        <div class="date">📅 ${conf.date}</div>
        <div class="duration">⏱ ${conf.duration}</div>
      </div>
      <div class="card-meta">
        <div class="participants">
          <span>👥 ${conf.participants} participants</span>
        </div>
      </div>
      <div class="card-footer">
        <button class="copy-btn">Copy ID</button>
        <button class="join-btn">Rejoin</button>
      </div>
    `;
    
    // Add event listeners
    const joinBtn = conferenceCard.querySelector('.join-btn');
    const copyBtn = conferenceCard.querySelector('.copy-btn');
    
    joinBtn.addEventListener('click', () => {
      // In a real app, this would rejoin the conference
      alert(`This conference ended on ${conf.date}. You can start a new one.`);
    });
    
    copyBtn.addEventListener('click', () => {
      copyToClipboard(conf.meetingId);
      showToast('Meeting ID copied to clipboard');
    });
    
    recentConferences.appendChild(conferenceCard);
  });
}

// Setup event listeners
function setupEventListeners() {
  // Dark mode toggle
  const darkToggle = document.getElementById('darkToggle');
  (function initTheme(){
    const t = localStorage.getItem('meet_theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme:dark)').matches ? 'dark' : 'light');
    if(t==='dark') document.body.classList.add('dark');
    darkToggle.textContent = document.body.classList.contains('dark') ? '☀️' : '🌙';
  })();
  darkToggle.addEventListener('click', ()=>{
    document.body.classList.toggle('dark');
    const now = document.body.classList.contains('dark') ? 'dark' : 'light';
    localStorage.setItem('meet_theme', now);
    darkToggle.textContent = now === 'dark' ? '☀️' : '🌙';
  });

  // New meeting button
  newMeetingBtn.addEventListener('click', () => {
    generateMeetingId();
    newMeetingModal.style.display = 'flex';
  });

  // Join meeting button
  joinMeetingBtn.addEventListener('click', () => {
    joinMeetingModal.style.display = 'flex';
  });

  // Close new meeting modal
  closeNewMeetingModal.addEventListener('click', closeNewMeetingModalHandler);
  cancelNewMeeting.addEventListener('click', closeNewMeetingModalHandler);
  newMeetingModal.addEventListener('click', (e) => {
    if (e.target === newMeetingModal) {
      closeNewMeetingModalHandler();
    }
  });

  // Close join meeting modal
  closeJoinMeetingModal.addEventListener('click', closeJoinMeetingModalHandler);
  cancelJoinMeeting.addEventListener('click', closeJoinMeetingModalHandler);
  joinMeetingModal.addEventListener('click', (e) => {
    if (e.target === joinMeetingModal) {
      closeJoinMeetingModalHandler();
    }
  });

  // Start meeting
  startMeeting.addEventListener('click', startMeetingHandler);

  // Join meeting
  joinMeeting.addEventListener('click', joinMeetingHandler);

  // Sidebar tabs
  sidebarTabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const tabName = tab.getAttribute('data-tab');
      
      // Update active tab
      sidebarTabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      
      // Show corresponding content
      sidebarTabContents.forEach(content => {
        content.classList.remove('active');
        if (content.id === `${tabName}Tab`) {
          content.classList.add('active');
        }
      });
    });
  });

  // Conference controls
  micBtn.addEventListener('click', toggleMicrophone);
  cameraBtn.addEventListener('click', toggleCamera);
  raiseHandBtn.addEventListener('click', toggleRaiseHand);
  bellBtn.addEventListener('click', ringBell);
  speakerBtn.addEventListener('click', toggleSpeaker);
  leaveBtn.addEventListener('click', leaveConference);

  // Invite button
  inviteBtn.addEventListener('click', () => {
    inviteMeetingId.textContent = currentMeeting.meetingId;
    inviteLink.value = `https://meet.app/join/${currentMeeting.meetingId}`;
    inviteModal.style.display = 'flex';
  });

  // Close invite modal
  closeInviteModal.addEventListener('click', closeInviteModalHandler);
  closeInvite.addEventListener('click', closeInviteModalHandler);
  inviteModal.addEventListener('click', (e) => {
    if (e.target === inviteModal) {
      closeInviteModalHandler();
    }
  });

  // Copy invite link
  copyInviteLink.addEventListener('click', () => {
    copyToClipboard(inviteLink.value);
    showToast('Invite link copied to clipboard');
  });

  // Chat functionality
  sendMessageBtn.addEventListener('click', sendMessage);
  chatInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      sendMessage();
    }
  });
}

// Generate meeting ID
function generateMeetingId() {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
  let result = 'MEET-';
  for (let i = 0; i < 6; i++) {
    result += chars.charAt(Math.floor(Math.random() * chars.length));
  }
  generatedMeetingId.textContent = result;
}

// Close new meeting modal handler
function closeNewMeetingModalHandler() {
  newMeetingModal.style.display = 'none';
}

// Close join meeting modal handler
function closeJoinMeetingModalHandler() {
  joinMeetingModal.style.display = 'none';
}

// Close invite modal handler
function closeInviteModalHandler() {
  inviteModal.style.display = 'none';
}

// Start meeting handler
function startMeetingHandler() {
  const meetingTopic = document.getElementById('meetingTopic').value;
  const meetingId = generatedMeetingId.textContent;
  
  currentMeeting = {
    id: 'conf_' + Date.now(),
    title: meetingTopic || 'New Meeting',
    meetingId: meetingId,
    participants: mockParticipants
  };
  
  // Switch to conference room
  conferenceDashboard.style.display = 'none';
  conferenceRoom.style.display = 'flex';
  
  // Update room info
  roomTitle.textContent = currentMeeting.title;
  roomId.textContent = currentMeeting.meetingId;
  participantsCount.textContent = currentMeeting.participants.length;
  
  // Initialize conference room
  initConferenceRoom();
  
  // Close modal
  closeNewMeetingModalHandler();
}

// Join meeting handler
function joinMeetingHandler() {
  const meetingId = meetingIdInput.value.trim();
  const participantName = document.getElementById('participantName').value;
  
  if (!meetingId) {
    alert('Please enter a meeting ID');
    return;
  }
  
  // In a real app, we would validate the meeting ID with a server
  // For this demo, we'll just create a mock meeting
  currentMeeting = {
    id: 'conf_' + Date.now(),
    title: 'Meeting ' + meetingId,
    meetingId: meetingId,
    participants: mockParticipants
  };
  
  // Add the current user as a participant
  currentMeeting.participants.push({
    id: 'current_user',
    name: participantName,
    avatar: document.getElementById('userPic').src,
    role: 'Participant',
    isAudioEnabled: true,
    isVideoEnabled: true,
    isHandRaised: false
  });
  
  // Switch to conference room
  conferenceDashboard.style.display = 'none';
  conferenceRoom.style.display = 'flex';
  
  // Update room info
  roomTitle.textContent = currentMeeting.title;
  roomId.textContent = currentMeeting.meetingId;
  participantsCount.textContent = currentMeeting.participants.length;
  
  // Initialize conference room
  initConferenceRoom();
  
  // Close modal
  closeJoinMeetingModalHandler();
}

// Join conference directly
function joinConference(conference) {
  currentMeeting = {
    id: conference.id,
    title: conference.title,
    meetingId: conference.meetingId,
    participants: mockParticipants
  };
  
  // Switch to conference room
  conferenceDashboard.style.display = 'none';
  conferenceRoom.style.display = 'flex';
  
  // Update room info
  roomTitle.textContent = currentMeeting.title;
  roomId.textContent = currentMeeting.meetingId;
  participantsCount.textContent = currentMeeting.participants.length;
  
  // Initialize conference room
  initConferenceRoom();
}

// Initialize conference room
function initConferenceRoom() {
  // Render participants
  renderParticipants();
  
  // Render videos
  renderVideos();
  
  // Render chat messages
  renderMessages();
  
  // Start meeting timer
  startMeetingTimer();
  
  // Request camera and microphone access
  requestMediaAccess();
}

// Render participants
function renderParticipants() {
  participantsList.innerHTML = '';
  
  currentMeeting.participants.forEach(participant => {
    const participantItem = document.createElement('div');
    participantItem.className = 'participant-item';
    
    participantItem.innerHTML = `
      <img src="${participant.avatar}" alt="${participant.name}" class="participant-avatar">
      <div class="participant-info">
        <div class="participant-name">${participant.name}</div>
        <div class="participant-role">${participant.role}</div>
      </div>
      <div class="participant-actions">
        ${participant.isHandRaised ? '<span title="Hand Raised">✋</span>' : ''}
        ${!participant.isAudioEnabled ? '<span title="Muted">🔇</span>' : ''}
        ${!participant.isVideoEnabled ? '<span title="Video Off">📹</span>' : ''}
      </div>
    `;
    
    participantsList.appendChild(participantItem);
  });
}

// Render videos
function renderVideos() {
  videoGrid.innerHTML = '';
  
  currentMeeting.participants.forEach((participant, index) => {
    const videoContainer = document.createElement('div');
    videoContainer.className = `video-container ${index === 0 ? 'main' : ''}`;
    
    if (participant.isVideoEnabled) {
      videoContainer.innerHTML = `
        <video class="video-element" autoplay muted></video>
        <div class="video-overlay">
          <div class="participant-name">${participant.name}</div>
          <div class="participant-status">
            ${!participant.isAudioEnabled ? '<span class="status-icon">🔇</span>' : ''}
            ${participant.isHandRaised ? '<span class="status-icon">✋</span>' : ''}
          </div>
        </div>
      `;
    } else {
      videoContainer.innerHTML = `
        <div class="video-placeholder">
          <div class="placeholder-icon">👤</div>
          <div class="participant-name">${participant.name}</div>
        </div>
        <div class="video-overlay">
          <div class="participant-name">${participant.name}</div>
          <div class="participant-status">
            ${!participant.isAudioEnabled ? '<span class="status-icon">🔇</span>' : ''}
            ${participant.isHandRaised ? '<span class="status-icon">✋</span>' : ''}
          </div>
        </div>
      `;
    }
    
    videoGrid.appendChild(videoContainer);
  });
}

// Render messages
function renderMessages() {
  messagesList.innerHTML = '';
  
  mockMessages.forEach(message => {
    const messageElement = document.createElement('div');
    messageElement.className = `message ${message.isSent ? 'sent' : 'received'}`;
    
    messageElement.innerHTML = `
      <div class="message-sender">${message.sender}</div>
      <div class="message-text">${message.text}</div>
      <div class="message-time">${message.time}</div>
    `;
    
    messagesList.appendChild(messageElement);
  });
  
  // Scroll to bottom
  messagesList.scrollTop = messagesList.scrollHeight;
}

// Start meeting timer
function startMeetingTimer() {
  meetingDuration = 0;
  updateDurationDisplay();
  
  durationInterval = setInterval(() => {
    meetingDuration++;
    updateDurationDisplay();
  }, 1000);
}

// Update duration display
function updateDurationDisplay() {
  const hours = Math.floor(meetingDuration / 3600);
  const minutes = Math.floor((meetingDuration % 3600) / 60);
  const seconds = meetingDuration % 60;
  
  roomDuration.textContent = 
    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

// Request media access
function requestMediaAccess() {
  // In a real app, we would use the MediaDevices API
  // For this demo, we'll just simulate it
  console.log('Requesting camera and microphone access...');
  
  // Simulate getting media stream
  setTimeout(() => {
    // In a real app, we would set the video elements' srcObject
    console.log('Media access granted');
  }, 1000);
}

// Toggle microphone
function toggleMicrophone() {
  isAudioEnabled = !isAudioEnabled;
  
  if (isAudioEnabled) {
    micBtn.classList.remove('active');
    micBtn.title = 'Mute Microphone';
  } else {
    micBtn.classList.add('active');
    micBtn.title = 'Unmute Microphone';
  }
  
  // In a real app, we would enable/disable the audio track
  console.log(`Microphone ${isAudioEnabled ? 'enabled' : 'disabled'}`);
}

// Toggle camera
function toggleCamera() {
  isVideoEnabled = !isVideoEnabled;
  
  if (isVideoEnabled) {
    cameraBtn.classList.remove('active');
    cameraBtn.title = 'Turn Off Camera';
  } else {
    cameraBtn.classList.add('active');
    cameraBtn.title = 'Turn On Camera';
  }
  
  // In a real app, we would enable/disable the video track
  console.log(`Camera ${isVideoEnabled ? 'enabled' : 'disabled'}`);
  
  // Re-render videos to reflect changes
  renderVideos();
}

// Toggle raise hand
function toggleRaiseHand() {
  isHandRaised = !isHandRaised;
  
  if (isHandRaised) {
    raiseHandBtn.classList.add('active');
    raiseHandBtn.title = 'Lower Hand';
    showToast('Hand raised');
  } else {
    raiseHandBtn.classList.remove('active');
    raiseHandBtn.title = 'Raise Hand';
  }
  
  // In a real app, we would send this to other participants
  console.log(`Hand ${isHandRaised ? 'raised' : 'lowered'}`);
}

// Ring bell
function ringBell() {
  if (isBellRinging) return;
  
  isBellRinging = true;
  bellBtn.classList.add('active');
  
  // Play bell sound (in a real app, we would use the Web Audio API)
  console.log('Bell ringing');
  
  // Show notification
  showToast('Bell rang to get attention');
  
  // Reset after a delay
  setTimeout(() => {
    isBellRinging = false;
    bellBtn.classList.remove('active');
  }, 2000);
}

// Toggle speaker
function toggleSpeaker() {
  isSpeakerEnabled = !isSpeakerEnabled;
  
  if (isSpeakerEnabled) {
    speakerBtn.classList.remove('active');
    speakerBtn.title = 'Turn Off Speaker';
  } else {
    speakerBtn.classList.add('active');
    speakerBtn.title = 'Turn On Speaker';
  }
  
  console.log(`Speaker ${isSpeakerEnabled ? 'enabled' : 'disabled'}`);
}

// Leave conference
function leaveConference() {
  if (confirm('Are you sure you want to leave the conference?')) {
    // Stop media streams
    if (localStream) {
      localStream.getTracks().forEach(track => track.stop());
    }
    
    // Clear timer
    if (durationInterval) {
      clearInterval(durationInterval);
    }
    
    // Switch back to dashboard
    conferenceRoom.style.display = 'none';
    conferenceDashboard.style.display = 'block';
    
    // Reset state
    currentMeeting = null;
    isAudioEnabled = true;
    isVideoEnabled = true;
    isHandRaised = false;
    isBellRinging = false;
    isSpeakerEnabled = true;
    
    // Reset control buttons
    micBtn.classList.remove('active');
    cameraBtn.classList.remove('active');
    raiseHandBtn.classList.remove('active');
    bellBtn.classList.remove('active');
    speakerBtn.classList.remove('active');
    
    showToast('You left the conference');
  }
}

// Send message
function sendMessage() {
  const text = chatInput.value.trim();
  if (!text) return;
  
  // Create new message
  const newMessage = {
    id: 'msg_' + Date.now(),
    sender: 'You',
    text: text,
    time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
    isSent: true
  };
  
  // Add to messages list
  const messageElement = document.createElement('div');
  messageElement.className = 'message sent';
  messageElement.innerHTML = `
    <div class="message-sender">${newMessage.sender}</div>
    <div class="message-text">${newMessage.text}</div>
    <div class="message-time">${newMessage.time}</div>
  `;
  
  messagesList.appendChild(messageElement);
  
  // Clear input
  chatInput.value = '';
  
  // Scroll to bottom
  messagesList.scrollTop = messagesList.scrollHeight;
  
  // In a real app, we would send the message to other participants
  console.log('Message sent:', text);
}

// Copy to clipboard
function copyToClipboard(text) {
  navigator.clipboard.writeText(text).catch(err => {
    console.error('Failed to copy text: ', err);
  });
}

// Show toast notification
function showToast(message) {
  // Create toast element if it doesn't exist
  let toast = document.getElementById('toast');
  if (!toast) {
    toast = document.createElement('div');
    toast.id = 'toast';
    toast.style.cssText = `
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--card);
      color: var(--text);
      padding: 12px 20px;
      border-radius: 8px;
      box-shadow: var(--shadow);
      z-index: 1000;
      font-size: 14px;
      display: none;
    `;
    document.body.appendChild(toast);
  }
  
  toast.textContent = message;
  toast.style.display = 'block';
  
  setTimeout(() => {
    toast.style.display = 'none';
  }, 3000);
}

// Initialize conference when page loads
document.addEventListener('DOMContentLoaded', initConference);
</script>
</body>
</html>
