<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>MEET ‚Äî Organization Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0061FF;
            --accent: #5AE4A8;
            --bg: #f7f9fb;
            --card: #fff;
            --text: #111827;
            --muted: #6b7280;
            --radius: 12px;
            --shadow: 0 6px 18px rgba(16,24,40,0.06);
            --danger: #EF4444;
            --warning: #F59E0B;
            --success: #10B981;
        }
        
        body.dark {
            --bg: #081226;
            --card: #0b1726;
            --text: #e6eef8;
            --muted: #93a3bd;
            --shadow: 0 6px 18px rgba(0,0,0,0.6);
        }
        
        * { box-sizing: border-box; }
        
        body {
            margin: 0;
            font-family: Inter, system-ui, Segoe UI, Arial;
            background: var(--bg);
            color: var(--text);
            height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background .35s, color .35s;
        }
        
        /* Header */
        header {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px 20px;
            background: var(--card);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 50;
        }
        
        .left {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 44px; height: 44px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex; align-items: center; justify-content: center;
            -webkit-mask: url('#m-mask'); mask: url('#m-mask') center/contain no-repeat;
        }
        
        .brand {
            font-weight: 700; font-size: 18px; color: var(--primary);
        }
        
        .org-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .org-badge {
            background: rgba(0,97,255,0.1);
            color: var(--primary);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .search {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
            background: #eef3ff;
            border-radius: 10px;
            padding: 8px 12px;
            max-width: 600px;
        }
        
        body.dark .search { background: #0f2134; }
        
        .search input {
            border: 0;
            background: transparent;
            outline: none;
            width: 100%;
            color: var(--text);
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-dot {
            width: 10px; height: 10px;
            border-radius: 50%;
            background: #34D399;
            border: 2px solid var(--card);
            box-shadow: 0 0 0 4px rgba(52,211,153,0.09);
            display: inline-block;
            margin-left: 6px;
        }
        
        /* Layout */
        .layout {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        
        aside {
            width: 240px;
            background: var(--card);
            padding: 18px;
            border-right: 1px solid rgba(0,0,0,0.03);
            display: flex;
            flex-direction: column;
            gap: 8px;
            box-shadow: var(--shadow);
            transition: width 0.3s ease;
        }
        
        aside button {
            border: 0;
            background: transparent;
            padding: 12px 14px;
            border-radius: 10px;
            text-align: left;
            font-weight: 600;
            color: var(--muted);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            width: 100%;
            font-family: inherit;
            font-size: inherit;
            position: relative;
        }
        
        aside button.active {
            color: var(--primary);
            background: linear-gradient(90deg, rgba(0,97,255,0.06), rgba(90,228,168,0.03));
        }
        
        aside button .menu-text {
            transition: opacity 0.3s ease;
        }
        
        .badge {
            background: var(--danger);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: auto;
            min-width: 20px;
            text-align: center;
        }
        
        main {
            flex: 1;
            padding: 0;
            overflow: hidden;
            display: flex;
        }
        
        /* Dashboard Styles */
        .dashboard-container {
            width: 100%;
            padding: 30px;
            overflow-y: auto;
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .dashboard-title {
            font-size: 28px;
            font-weight: 700;
        }
        
        .dashboard-subtitle {
            color: var(--muted);
            margin-top: 5px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            font-family: inherit;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--primary), var(--accent));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,97,255,0.2);
        }
        
        .btn-secondary {
            background: var(--card);
            color: var(--text);
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        body.dark .btn-secondary {
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning);
            color: white;
        }
        
        /* Announcement Form */
        .announcement-form {
            background: var(--card);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
        }
        
        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid rgba(0,0,0,0.1);
            background: var(--bg);
            color: var(--text);
            font-family: inherit;
            font-size: 14px;
            transition: border 0.3s;
        }
        
        body.dark .form-input,
        body.dark .form-textarea,
        body.dark .form-select {
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }
        
        .file-upload {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .file-btn {
            padding: 8px 16px;
            border-radius: 6px;
            background: var(--bg);
            border: 1px dashed rgba(0,0,0,0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        body.dark .file-btn {
            border: 1px dashed rgba(255,255,255,0.2);
        }
        
        .visibility-options {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .visibility-option {
            flex: 1;
            padding: 15px;
            border: 2px solid rgba(0,0,0,0.1);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        body.dark .visibility-option {
            border: 2px solid rgba(255,255,255,0.1);
        }
        
        .visibility-option.selected {
            border-color: var(--primary);
            background: rgba(0,97,255,0.05);
        }
        
        .visibility-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .visibility-desc {
            font-size: 12px;
            color: var(--muted);
        }
        
        .toggle-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--primary);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }
        
        /* Announcement Feed */
        .announcement-feed {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .announcement-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }
        
        .announcement-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .announcement-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .announcement-info {
            flex: 1;
        }
        
        .announcement-author {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .announcement-meta {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 12px;
            color: var(--muted);
        }
        
        .visibility-badge {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
        }
        
        .badge-organization {
            background: rgba(0,97,255,0.1);
            color: var(--primary);
        }
        
        .badge-public {
            background: rgba(90,228,168,0.1);
            color: var(--accent);
        }
        
        .badge-both {
            background: rgba(139,92,246,0.1);
            color: #8B5CF6;
        }
        
        .announcement-content {
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .announcement-media {
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .announcement-media img,
        .announcement-media video {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 8px;
        }
        
        .announcement-actions {
            display: flex;
            gap: 20px;
            border-top: 1px solid rgba(0,0,0,0.05);
            padding-top: 15px;
        }
        
        body.dark .announcement-actions {
            border-top: 1px solid rgba(255,255,255,0.05);
        }
        
        .action-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: transparent;
            border: none;
            color: var(--muted);
            cursor: pointer;
            font-size: 14px;
            padding: 5px 10px;
            border-radius: 6px;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background: rgba(0,0,0,0.05);
        }
        
        body.dark .action-btn:hover {
            background: rgba(255,255,255,0.05);
        }
        
        .action-btn.active {
            color: var(--primary);
        }
        
        /* Portal Cards */
        .portal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .portal-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }
        
        .portal-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        
        body.dark .portal-header {
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .portal-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .portal-title {
            font-size: 20px;
            font-weight: 700;
            margin: 0;
        }
        
        .portal-subtitle {
            color: var(--muted);
            font-size: 14px;
            margin: 5px 0 0 0;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        
        body.dark .info-row {
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .info-label {
            color: var(--muted);
        }
        
        .info-value {
            font-weight: 600;
        }
        
        .status-active {
            color: var(--success);
        }
        
        .status-pending {
            color: var(--warning);
        }
        
        .status-suspended {
            color: var(--warning);
        }
        
        .status-sacked {
            color: var(--danger);
        }
        
        /* Approval Panel */
        .pending-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .pending-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--warning);
        }
        
        .pending-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .pending-actions {
            display: flex;
            gap: 10px;
        }
        
        /* Company Profile */
        .profile-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }
        
        .company-logo {
            width: 120px;
            height: 120px;
            border-radius: 12px;
            object-fit: cover;
            margin-bottom: 20px;
        }
        
        .section-card {
            background: var(--card);
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .members-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .member-card {
            background: var(--bg);
            border-radius: 8px;
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .member-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        /* Debate Room */
        .debate-container {
            display: flex;
            height: 600px;
            gap: 20px;
        }
        
        .debate-sidebar {
            width: 300px;
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            overflow-y: auto;
        }
        
        .debate-messages {
            flex: 1;
            background: var(--card);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
        }
        
        .messages-container {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px;
            background: var(--bg);
            border-radius: 10px;
            max-width: 70%;
        }
        
        .message.sent {
            margin-left: auto;
            background: rgba(0,97,255,0.1);
        }
        
        .message-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
        }
        
        .message-sender {
            font-weight: 600;
            font-size: 14px;
        }
        
        .message-role {
            font-size: 12px;
            color: var(--muted);
        }
        
        .message-time {
            font-size: 11px;
            color: var(--muted);
            margin-left: auto;
        }
        
        .message-content {
            font-size: 14px;
            line-height: 1.4;
        }
        
        .message-input {
            display: flex;
            gap: 10px;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: var(--card);
            border-radius: var(--radius);
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 700;
        }
        
        .close-btn {
            background: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--muted);
        }
        
        /* Network Status */
        .network-status {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--card);
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
        }
        
        .status-online {
            color: #34D399;
        }
        
        /* Mobile Go Live Button */
        .mobile-go-live {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 50px;
            font-weight: 700;
            box-shadow: var(--shadow);
            z-index: 100;
            cursor: pointer;
        }
        
        /* Responsive */
        @media (max-width: 900px) {
            aside {
                width: 70px;
            }
            aside button {
                justify-content: center;
                padding: 10px 6px;
            }
            .menu-text {
                opacity: 0;
                width: 0;
                overflow: hidden;
            }
            .search {
                max-width: 400px;
            }
            .visibility-options {
                flex-direction: column;
            }
            .mobile-go-live {
                display: block;
            }
            .profile-grid {
                grid-template-columns: 1fr;
            }
            .debate-container {
                flex-direction: column;
                height: auto;
            }
            .debate-sidebar {
                width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            .search {
                max-width: 300px;
            }
            .dashboard-container {
                padding: 20px;
            }
            .portal-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 640px) {
            .search {
                max-width: 200px;
            }
            .org-info {
                display: none;
            }
        }
        
        @media (max-width: 480px) {
            .search {
                max-width: 150px;
            }
            .brand {
                display: none;
            }
            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            .announcement-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .pending-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- SVG mask resource -->
    <svg style="position:absolute;width:0;height:0" aria-hidden>
        <defs>
            <mask id="m-mask" viewBox="0 0 100 100">
                <path fill="white" d="M10 80 L10 20 L30 60 L50 20 L70 60 L90 20 L90 80 L70 40 L50 80 L30 40 Z"/>
            </mask>
        </defs>
    </svg>
    
    <header>
        <div class="left">
            <div class="logo-icon" title="MEET"></div>
            <div class="brand">MEET</div>
            <div class="org-info">
                <span>üè¢ Tech Innovations Ltd</span>
                <span class="org-badge">CEO</span>
            </div>
        </div>
        
        <div class="search">
            <span>üîç</span>
            <input id="search" placeholder="Search announcements, employees..." />
        </div>
        
        <div class="header-right">
            <div style="display:flex;align-items:center;gap:8px">
                <div style="font-size:12px;color:var(--muted)">Online</div>
                <div class="status-dot" title="You are online"></div>
            </div>
            <button id="darkToggle" title="Toggle dark mode">üåô</button>
            <div style="display:flex;align-items:center;gap:8px">
                <img id="userPic" src="https://i.pravatar.cc/100?img=5" style="width:42px;height:42px;border-radius:50%;border:2px solid #fff;object-fit:cover" alt="You">
                <div style="font-weight:700">Alex (CEO)</div>
            </div>
        </div>
    </header>
    
    <div class="layout">
        <aside>
            <button class="active" onclick="showSection('announcements')">
                üì¢ <span class="menu-text">Announcements</span>
            </button>
            <button onclick="showSection('companyProfile')">
                üè¢ <span class="menu-text">Company Profile</span>
            </button>
            <button onclick="showSection('approvalPanel')">
                üë• <span class="menu-text">Approval Panel</span>
                <span class="badge" id="pendingBadge">3</span>
            </button>
            <button onclick="showSection('ceoPortal')">
                üëë <span class="menu-text">CEO Portal</span>
            </button>
            <button onclick="showSection('boardPortal')">
                üë• <span class="menu-text">Board Portal</span>
            </button>
            <button onclick="showSection('employeePortal')">
                üíº <span class="menu-text">Employee Portal</span>
            </button>
            <button onclick="showSection('delegation')">
                üîÑ <span class="menu-text">Delegation</span>
            </button>
            <button onclick="location.href='conference.html'">
                üé• <span class="menu-text">Start Conference</span>
            </button>
            <button onclick="location.href='feed.html'">
                ‚Üê <span class="menu-text">Back to General</span>
            </button>
            
            <div style="flex:1"></div>
            
            <button id="goLive" style="background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;border:0;padding:10px;border-radius:10px;font-weight:700;display:flex;align-items:center;gap:12px;justify-content:center">
                <span class="menu-text">Go Live</span>
            </button>
        </aside>
        
        <main>
            <!-- Announcements Section -->
            <div class="dashboard-container" id="announcementsSection">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Organization Announcements</h1>
                        <p class="dashboard-subtitle">Share updates with your team and the MEET community</p>
                    </div>
                    <div style="display:flex;gap:10px">
                        <button class="btn btn-primary" onclick="toggleAnnouncementForm()">Make Announcement</button>
                    </div>
                </div>
                
                <!-- Announcement Form -->
                <div class="announcement-form" id="announcementForm" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Announcement Content</label>
                        <textarea class="form-textarea" placeholder="What would you like to announce?" id="announcementContent"></textarea>
                    </div>
                    
                    <div class="file-upload">
                        <button type="button" class="file-btn" onclick="document.getElementById('fileInput').click()">
                            üìé Attach File
                        </button>
                        <button type="button" class="file-btn" onclick="document.getElementById('imageInput').click()">
                            üñºÔ∏è Add Photo
                        </button>
                        <button type="button" class="file-btn" onclick="document.getElementById('videoInput').click()">
                            üé• Add Video
                        </button>
                        <input type="file" id="fileInput" style="display:none" accept=".pdf,.doc,.docx">
                        <input type="file" id="imageInput" style="display:none" accept="image/*">
                        <input type="file" id="videoInput" style="display:none" accept="video/*">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Visibility</label>
                        <div class="visibility-options">
                            <div class="visibility-option" onclick="selectVisibility('organization')">
                                <div class="visibility-title">Organization Only</div>
                                <div class="visibility-desc">Visible only to employees</div>
                            </div>
                            <div class="visibility-option" onclick="selectVisibility('public')">
                                <div class="visibility-title">Public MEET Feed</div>
                                <div class="visibility-desc">Visible to all MEET users</div>
                            </div>
                            <div class="visibility-option" onclick="selectVisibility('both')">
                                <div class="visibility-title">Both</div>
                                <div class="visibility-desc">Organization & Public feed</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="toggle-container">
                        <label class="toggle-switch">
                            <input type="checkbox" id="allowCommentsToggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span>Allow Comments</span>
                    </div>
                    
                    <div class="toggle-container">
                        <label class="toggle-switch">
                            <input type="checkbox" id="allowDebateToggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span>Allow Debate</span>
                    </div>
                    
                    <div style="display:flex;gap:10px;justify-content:flex-end">
                        <button class="btn btn-secondary" onclick="toggleAnnouncementForm()">Cancel</button>
                        <button class="btn btn-primary" onclick="publishAnnouncement()">Announce</button>
                    </div>
                </div>
                
                <!-- Announcement Feed -->
                <div class="announcement-feed" id="announcementFeed">
                    <!-- Announcements will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Company Profile Section -->
            <div class="dashboard-container" id="companyProfileSection" style="display: none;">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Company Profile</h1>
                        <p class="dashboard-subtitle">Organization information and settings</p>
                    </div>
                    <div style="display:flex;gap:10px">
                        <button class="btn btn-secondary" onclick="editCompanyProfile()">Edit Profile</button>
                    </div>
                </div>
                
                <div class="profile-grid">
                    <div>
                        <div class="section-card">
                            <div class="section-title">üè¢ Organization Overview</div>
                            <img src="https://images.unsplash.com/photo-1560179707-f14e90ef3623?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80" alt="Company Logo" class="company-logo">
                            
                            <div class="info-row">
                                <span class="info-label">Official Name:</span>
                                <span class="info-value">Tech Innovations Ltd</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Short Name:</span>
                                <span class="info-value">TechInnovations</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Organization Type:</span>
                                <span class="info-value">Private Limited Company</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Category:</span>
                                <span class="info-value">Technology</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">CEO:</span>
                                <span class="info-value">Alex Johnson</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Email:</span>
                                <span class="info-value">contact@techinnovations.com</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Phone:</span>
                                <span class="info-value">+1 (555) 123-4567</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Address:</span>
                                <span class="info-value">123 Tech Street, Silicon Valley, CA</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Registration Country:</span>
                                <span class="info-value">United States</span>
                            </div>
                        </div>
                        
                        <div class="section-card">
                            <div class="section-title">üéØ Mission & Vision</div>
                            <h4>Mission Statement</h4>
                            <p>To innovate and deliver cutting-edge technology solutions that transform businesses and improve lives.</p>
                            
                            <h4>Vision</h4>
                            <p>To be the global leader in technological innovation, creating a smarter and more connected world.</p>
                            
                            <h4>Core Values</h4>
                            <ul>
                                <li>Innovation & Excellence</li>
                                <li>Integrity & Transparency</li>
                                <li>Customer Success</li>
                                <li>Team Collaboration</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div>
                        <div class="section-card">
                            <div class="section-title">üë• Team Overview</div>
                            <div class="info-row">
                                <span class="info-label">Total Staff:</span>
                                <span class="info-value">45</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Board Members:</span>
                                <span class="info-value">5</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Employees:</span>
                                <span class="info-value">40</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Departments:</span>
                                <span class="info-value">8</span>
                            </div>
                        </div>
                        
                        <div class="section-card">
                            <div class="section-title">üèõÔ∏è Board of Directors</div>
                            <div class="members-list">
                                <div class="member-card">
                                    <img src="https://i.pravatar.cc/100?img=5" class="member-avatar" alt="Alex Johnson">
                                    <div>
                                        <div style="font-weight:600">Alex Johnson</div>
                                        <div style="font-size:12px;color:var(--muted)">CEO</div>
                                    </div>
                                </div>
                                <div class="member-card">
                                    <img src="https://i.pravatar.cc/100?img=2" class="member-avatar" alt="Sarah Chen">
                                    <div>
                                        <div style="font-weight:600">Sarah Chen</div>
                                        <div style="font-size:12px;color:var(--muted)">HR Director</div>
                                    </div>
                                </div>
                                <div class="member-card">
                                    <img src="https://i.pravatar.cc/100?img=1" class="member-avatar" alt="Michael Brown">
                                    <div>
                                        <div style="font-weight:600">Michael Brown</div>
                                        <div style="font-size:12px;color:var(--muted)">Finance Director</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section-card">
                            <div class="section-title">üìä Strategic Plans</div>
                            <ol>
                                <li>Expand to European markets (Q2 2024)</li>
                                <li>Launch new product line (Q3 2024)</li>
                                <li>Increase team size by 30% (Q4 2024)</li>
                                <li>Implement AI integration (Q1 2025)</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Approval Panel Section -->
            <div class="dashboard-container" id="approvalPanelSection" style="display: none;">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Approval Panel</h1>
                        <p class="dashboard-subtitle">Review and approve membership requests</p>
                    </div>
                    <div style="display:flex;gap:10px">
                        <button class="btn btn-primary" onclick="refreshPendingRequests()">Refresh</button>
                    </div>
                </div>
                
                <div class="pending-list" id="pendingList">
                    <!-- Pending requests will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- CEO Portal Section -->
            <div class="dashboard-container" id="ceoPortalSection" style="display: none;">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">CEO Portal</h1>
                        <p class="dashboard-subtitle">Full Organization Control Panel</p>
                    </div>
                    <div style="display:flex;gap:10px">
                        <button class="btn btn-primary" onclick="showInviteModal()">Invite Member</button>
                    </div>
                </div>
                
                <div class="portal-grid">
                    <div class="portal-card">
                        <div class="portal-header">
                            <img src="https://i.pravatar.cc/100?img=5" class="portal-avatar" alt="CEO">
                            <div>
                                <h2 class="portal-title">Alex Johnson</h2>
                                <p class="portal-subtitle">Chief Executive Officer</p>
                            </div>
                        </div>
                        
                        <div class="info-row">
                            <span class="info-label">Authority Level:</span>
                            <span class="info-value">FULL ACCESS</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Permissions:</span>
                            <span class="info-value">ALL</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Status:</span>
                            <span class="info-value status-active">‚óè Active</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Organization:</span>
                            <span class="info-value">Tech Innovations Ltd</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Join Date:</span>
                            <span class="info-value">Jan 15, 2023</span>
                        </div>
                        
                        <div style="margin-top: 20px; display: flex; gap: 10px;">
                            <button class="btn btn-secondary" onclick="editCEOPortal()">Edit Profile</button>
                            <button class="btn btn-primary" onclick="showDelegationModal()">Delegate Authority</button>
                        </div>
                    </div>
                    
                    <div class="portal-card">
                        <h3 class="section-title">üìä Organization Stats</h3>
                        <div class="info-row">
                            <span class="info-label">Total Staff:</span>
                            <span class="info-value">45</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Board Members:</span>
                            <span class="info-value">5</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Employees:</span>
                            <span class="info-value">40</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Pending Approvals:</span>
                            <span class="info-value" id="ceoPendingCount">3</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Active Debates:</span>
                            <span class="info-value">2</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Recent Announcements:</span>
                            <span class="info-value">12</span>
                        </div>
                    </div>
                    
                    <div class="portal-card">
                        <h3 class="section-title">üîß Quick Actions</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 15px;">
                            <button class="btn btn-secondary" onclick="showSection('approvalPanel')">Review Requests</button>
                            <button class="btn btn-secondary" onclick="showSection('companyProfile')">Edit Profile</button>
                            <button class="btn btn-secondary" onclick="showAnnouncementForm()">Make Announcement</button>
                            <button class="btn btn-secondary" onclick="showDelegationModal()">Delegate</button>
                            <button class="btn btn-danger" onclick="showSuspensionModal()">Suspend User</button>
                            <button class="btn btn-warning" onclick="showPromotionModal()">Promote User</button>
                        </div>
                    </div>
                    
                    <div class="portal-card">
                        <h3 class="section-title">üìà Activity Log</h3>
                        <div style="max-height: 300px; overflow-y: auto;">
                            <div style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
                                <div style="font-size: 14px; font-weight: 600;">Approved Sarah's request</div>
                                <div style="font-size: 12px; color: var(--muted);">2 hours ago</div>
                            </div>
                            <div style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
                                <div style="font-size: 14px; font-weight: 600;">Posted announcement</div>
                                <div style="font-size: 12px; color: var(--muted);">4 hours ago</div>
                            </div>
                            <div style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
                                <div style="font-size: 14px; font-weight: 600;">Updated company profile</div>
                                <div style="font-size: 12px; color: var(--muted);">1 day ago</div>
                            </div>
                            <div style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
                                <div style="font-size: 14px; font-weight: 600;">Delegated posting rights</div>
                                <div style="font-size: 12px; color: var(--muted);">2 days ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Board Portal Section -->
            <div class="dashboard-container" id="boardPortalSection" style="display: none;">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Board of Directors Portal</h1>
                        <p class="dashboard-subtitle">Board Members Control Panel</p>
                    </div>
                </div>
                
                <div class="portal-grid">
                    <div class="portal-card">
                        <div class="portal-header">
                            <img src="https://i.pravatar.cc/100?img=2" class="portal-avatar" alt="Board Member">
                            <div>
                                <h2 class="portal-title">Sarah Chen</h2>
                                <p class="portal-subtitle">HR Director</p>
                            </div>
                        </div>
                        
                        <div class="info-row">
                            <span class="info-label">Position:</span>
                            <span class="info-value">HR Director</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Department:</span>
                            <span class="info-value">Human Resources</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Status:</span>
                            <span class="info-value status-active">‚óè Active</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Delegated Permissions:</span>
                            <span class="info-value">POST_ANNOUNCEMENTS, APPROVE_EMPLOYEES</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Join Date:</span>
                            <span class="info-value">Mar 10, 2023</span>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <button class="btn btn-primary" style="width: 100%;" onclick="toggleAnnouncementForm()">Make Announcement</button>
                        </div>
                    </div>
                    
                    <div class="portal-card">
                        <h3 class="section-title">üë• Board Members</h3>
                        <div class="members-list">
                            <div class="member-card">
                                <img src="https://i.pravatar.cc/100?img=5" class="member-avatar" alt="Alex Johnson">
                                <div>
                                    <div style="font-weight:600">Alex Johnson</div>
                                    <div style="font-size:12px;color:var(--muted)">CEO</div>
                                </div>
                            </div>
                            <div class="member-card">
                                <img src="https://i.pravatar.cc/100?img=2" class="member-avatar" alt="Sarah Chen">
                                <div>
                                    <div style="font-weight:600">Sarah Chen</div>
                                    <div style="font-size:12px;color:var(--muted)">HR Director</div>
                                </div>
                            </div>
                            <div class="member-card">
                                <img src="https://i.pravatar.cc/100?img=1" class="member-avatar" alt="Michael Brown">
                                <div>
                                    <div style="font-weight:600">Michael Brown</div>
                                    <div style="font-size:12px;color:var(--muted)">Finance Director</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="portal-card">
                        <h3 class="section-title">üìã Assigned Tasks</h3>
                        <div style="margin-top: 15px;">
                            <div style="padding: 10px; background: rgba(0,97,255,0.1); border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-weight: 600;">Review Employee Applications</div>
                                <div style="font-size: 12px; color: var(--muted);">3 pending requests</div>
                            </div>
                            <div style="padding: 10px; background: rgba(245,158,11,0.1); border-radius: 8px; margin-bottom: 10px;">
                                <div style="font-weight: 600;">Quarterly HR Report</div>
                                <div style="font-size: 12px; color: var(--muted);">Due in 5 days</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Employee Portal Section -->
            <div class="dashboard-container" id="employeePortalSection" style="display: none;">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Employee Portal</h1>
                        <p class="dashboard-subtitle">Employee Information and Access</p>
                    </div>
                    <div style="display:flex;gap:10px">
                        <button class="btn btn-primary" onclick="showAllEmployees()">View All Employees</button>
                    </div>
                </div>
                
                <div class="portal-grid" id="employeeGrid">
                    <!-- Employee cards will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Delegation Section -->
            <div class="dashboard-container" id="delegationSection" style="display: none;">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Delegation Management</h1>
                        <p class="dashboard-subtitle">Delegate authority to board members</p>
                    </div>
                    <div style="display:flex;gap:10px">
                        <button class="btn btn-primary" onclick="showDelegationModal()">Delegate New Authority</button>
                    </div>
                </div>
                
                <div class="section-card">
                    <h3 class="section-title">üîÑ Active Delegations</h3>
                    <div style="margin-top: 20px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                            <div style="padding: 15px; background: var(--bg); border-radius: 8px;">
                                <div style="font-weight: 600; margin-bottom: 10px;">Sarah Chen (HR Director)</div>
                                <div style="font-size: 14px; color: var(--muted); margin-bottom: 10px;">Delegated Permissions:</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 10px;">
                                    <span style="background: rgba(0,97,255,0.1); padding: 4px 8px; border-radius: 4px; font-size: 12px;">POST_ANNOUNCEMENTS</span>
                                    <span style="background: rgba(0,97,255,0.1); padding: 4px 8px; border-radius: 4px; font-size: 12px;">APPROVE_EMPLOYEES</span>
                                </div>
                                <div style="font-size: 12px; color: var(--muted);">Delegated on: Mar 15, 2024</div>
                                <button class="btn btn-danger" style="margin-top: 10px; width: 100%;" onclick="revokeDelegation('1')">Revoke</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Debate Room Section -->
            <div class="dashboard-container" id="debateSection" style="display: none;">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Debate Room</h1>
                        <p class="dashboard-subtitle">Group discussion for announcement</p>
                    </div>
                    <div style="display:flex;gap:10px">
                        <button class="btn btn-secondary" onclick="showSection('announcements')">‚Üê Back to Announcements</button>
                    </div>
                </div>
                
                <div class="debate-container">
                    <div class="debate-sidebar">
                        <h3>üéØ Debate Topic</h3>
                        <p style="font-size: 14px; margin-bottom: 20px;">Quarterly Performance Reviews</p>
                        
                        <h3>üë• Participants (12)</h3>
                        <div style="margin-top: 10px;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <img src="https://i.pravatar.cc/100?img=5" style="width: 30px; height: 30px; border-radius: 50%;" alt="User">
                                <div>
                                    <div style="font-size: 14px; font-weight: 600;">Alex Johnson</div>
                                    <div style="font-size: 12px; color: var(--muted);">CEO</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <img src="https://i.pravatar.cc/100?img=2" style="width: 30px; height: 30px; border-radius: 50%;" alt="User">
                                <div>
                                    <div style="font-size: 14px; font-weight: 600;">Sarah Chen</div>
                                    <div style="font-size: 12px; color: var(--muted);">HR Director</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="debate-messages">
                        <div class="messages-container" id="debateMessages">
                            <!-- Messages will be populated by JavaScript -->
                        </div>
                        
                        <div class="message-input">
                            <input type="text" class="form-input" id="debateMessage" placeholder="Type your message...">
                            <button class="btn btn-primary" onclick="sendDebateMessage()">Send</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Mobile Go Live Button -->
    <button class="mobile-go-live" id="mobileGoLive">Go Live</button>
    
    <!-- Network Status -->
    <div class="network-status" id="networkStatus">
        <span class="status-online">‚óè</span> Connected to MEET Network
    </div>
    
    <!-- Approval Modal -->
    <div class="modal" id="approvalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Approve Member Request</h2>
                <button class="close-btn" onclick="closeModal('approvalModal')">√ó</button>
            </div>
            
            <div id="approvalModalContent">
                <!-- Content will be populated by JavaScript -->
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-danger" onclick="declineRequest()">Decline</button>
                <button class="btn btn-success" onclick="approveRequest()">Approve & Send Password</button>
            </div>
        </div>
    </div>
    
    <!-- Delegation Modal -->
    <div class="modal" id="delegationModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Delegate Authority</h2>
                <button class="close-btn" onclick="closeModal('delegationModal')">√ó</button>
            </div>
            
            <div class="form-group">
                <label class="form-label">Select Board Member</label>
                <select class="form-select" id="delegateTo">
                    <option value="">Select board member...</option>
                    <option value="sarah">Sarah Chen (HR Director)</option>
                    <option value="michael">Michael Brown (Finance Director)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Permissions to Delegate</label>
                <div style="margin-top: 10px;">
                    <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <input type="checkbox" id="permPost">
                        <span>POST_ANNOUNCEMENTS</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <input type="checkbox" id="permApprove">
                        <span>APPROVE_EMPLOYEES</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <input type="checkbox" id="permManage">
                        <span>MANAGE_EMPLOYEES</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                        <input type="checkbox" id="permEdit">
                        <span>EDIT_ORG_PROFILE</span>
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Valid Until (Optional)</label>
                <input type="date" class="form-input" id="delegateUntil">
            </div>
            
            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;" onclick="saveDelegation()">Delegate Authority</button>
        </div>
    </div>
    
    <script>
        // Global variables
        let selectedVisibility = 'organization';
        let currentAnnouncementId = null;
        let currentPendingRequestId = null;
        let currentUserRole = 'ceo'; // ceo, board, employee
        let debateMessages = [];
        
        // Dark mode toggle
        const darkToggle = document.getElementById('darkToggle');
        (function initTheme() {
            const t = localStorage.getItem('meet_theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme:dark)').matches ? 'dark' : 'light');
            if (t === 'dark') document.body.classList.add('dark');
            darkToggle.textContent = document.body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
        })();
        darkToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark');
            const now = document.body.classList.contains('dark') ? 'dark' : 'light';
            localStorage.setItem('meet_theme', now);
            darkToggle.textContent = now === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        });
        
        // Go Live buttons
        document.getElementById('goLive').addEventListener('click', goLive);
        document.getElementById('mobileGoLive').addEventListener('click', goLive);
        
        function goLive() {
            alert('Going live feature would start a live stream or video call');
        }
        
        // Section Navigation
        function showSection(section) {
            // Hide all sections
            const sections = [
                'announcements', 'companyProfile', 'approvalPanel', 
                'ceoPortal', 'boardPortal', 'employeePortal', 
                'delegation', 'debate'
            ];
            
            sections.forEach(sec => {
                document.getElementById(sec + 'Section').style.display = 'none';
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('aside button').forEach(btn => btn.classList.remove('active'));
            
            // Show selected section and activate button
            document.getElementById(section + 'Section').style.display = 'block';
            
            // Find and activate corresponding button
            const button = Array.from(document.querySelectorAll('aside button')).find(btn => 
                btn.textContent.includes(section.charAt(0).toUpperCase() + section.slice(1).replace(/([A-Z])/g, ' $1')) ||
                btn.textContent.includes('Announcements') && section === 'announcements'
            );
            
            if (button) button.classList.add('active');
            
            // Load section data
            if (section === 'approvalPanel') loadPendingRequests();
            if (section === 'employeePortal') loadEmployees();
            if (section === 'debate') loadDebateMessages();
        }
        
        // Announcement functionality
        let announcements = [
            {
                id: 1,
                author: "Alex Johnson",
                avatar: "https://i.pravatar.cc/100?img=5",
                role: "CEO",
                content: "Welcome to our new team members! We're excited to have you onboard. Please complete your profiles in the employee portal.",
                visibility: "organization",
                timestamp: "2 hours ago",
                likes: 12,
                comments: 3,
                shares: 1,
                liked: false,
                allowComments: true,
                allowDebate: true,
                acknowledgements: [
                    { name: "Sarah Chen", role: "HR Director" },
                    { name: "Michael Brown", role: "Finance Director" }
                ]
            },
            {
                id: 2,
                author: "Sarah Chen",
                avatar: "https://i.pravatar.cc/100?img=2",
                role: "HR Director",
                content: "Our company has been featured in Tech Magazine for our innovative approach to remote work! Check out the article.",
                media: "https://images.unsplash.com/photo-1556761175-b413da4baf72?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80",
                mediaType: "image",
                visibility: "public",
                timestamp: "1 day ago",
                likes: 45,
                comments: 8,
                shares: 12,
                liked: true,
                allowComments: true,
                allowDebate: false,
                acknowledgements: [
                    { name: "Alex Johnson", role: "CEO" },
                    { name: "Michael Brown", role: "Finance Director" },
                    { name: "John Doe", role: "Employee" }
                ]
            },
            {
                id: 3,
                author: "Marcus Lee",
                avatar: "https://i.pravatar.cc/100?img=22",
                role: "Operations Director",
                content: "Quarterly performance reviews are now available in the employee portal. Please review and schedule meetings with your managers.",
                visibility: "both",
                timestamp: "3 days ago",
                likes: 28,
                comments: 5,
                shares: 2,
                liked: false,
                allowComments: true,
                allowDebate: true,
                acknowledgements: [
                    { name: "Sarah Chen", role: "HR Director" },
                    { name: "Jane Smith", role: "Employee" }
                ]
            }
        ];
        
        function toggleAnnouncementForm() {
            const form = document.getElementById('announcementForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }
        
        function selectVisibility(type) {
            selectedVisibility = type;
            document.querySelectorAll('.visibility-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
        }
        
        function publishAnnouncement() {
            const content = document.getElementById('announcementContent').value;
            if (!content.trim()) {
                alert('Please enter announcement content');
                return;
            }
            
            const newAnnouncement = {
                id: announcements.length + 1,
                author: "Alex Johnson",
                avatar: "https://i.pravatar.cc/100?img=5",
                role: "CEO",
                content: content,
                visibility: selectedVisibility,
                timestamp: "Just now",
                likes: 0,
                comments: 0,
                shares: 0,
                liked: false,
                allowComments: document.getElementById('allowCommentsToggle').checked,
                allowDebate: document.getElementById('allowDebateToggle').checked,
                acknowledgements: []
            };
            
            announcements.unshift(newAnnouncement);
            renderAnnouncements();
            toggleAnnouncementForm();
            document.getElementById('announcementContent').value = '';
            
            alert(`Announcement published to ${selectedVisibility === 'organization' ? 'Organization feed only' : selectedVisibility === 'public' ? 'Public MEET feed' : 'Both Organization and Public feeds'}`);
        }
        
        function likeAnnouncement(id) {
            const announcement = announcements.find(a => a.id === id);
            if (announcement) {
                if (announcement.liked) {
                    announcement.likes--;
                } else {
                    announcement.likes++;
                }
                announcement.liked = !announcement.liked;
                renderAnnouncements();
            }
        }
        
        function acknowledgeAnnouncement(id) {
            const announcement = announcements.find(a => a.id === id);
            if (announcement) {
                if (!announcement.acknowledgements.some(a => a.name === "Alex Johnson")) {
                    announcement.acknowledgements.push({ name: "Alex Johnson", role: "CEO" });
                }
                renderAnnouncements();
            }
        }
        
        function openDebateRoom(id) {
            currentAnnouncementId = id;
            showSection('debate');
        }
        
        function renderAnnouncements() {
            const feed = document.getElementById('announcementFeed');
            feed.innerHTML = '';
            
            announcements.forEach(announcement => {
                const announcementElement = document.createElement('div');
                announcementElement.className = 'announcement-card';
                
                let mediaHtml = '';
                if (announcement.media) {
                    if (announcement.mediaType === 'image') {
                        mediaHtml = `<div class="announcement-media"><img src="${announcement.media}" alt="Announcement media"></div>`;
                    } else if (announcement.mediaType === 'video') {
                        mediaHtml = `<div class="announcement-media"><video controls><source src="${announcement.media}" type="video/mp4"></video></div>`;
                    }
                }
                
                let badgeClass = '';
                let badgeText = '';
                if (announcement.visibility === 'organization') {
                    badgeClass = 'badge-organization';
                    badgeText = 'Organization Only';
                } else if (announcement.visibility === 'public') {
                    badgeClass = 'badge-public';
                    badgeText = 'Public';
                } else {
                    badgeClass = 'badge-both';
                    badgeText = 'Organization & Public';
                }
                
                // Acknowledgements list
                let acknowledgementsHtml = '';
                if (announcement.acknowledgements && announcement.acknowledgements.length > 0) {
                    acknowledgementsHtml = `
                        <div style="margin: 10px 0; padding: 10px; background: rgba(0,97,255,0.05); border-radius: 8px;">
                            <div style="font-size: 12px; color: var(--muted); margin-bottom: 5px;">Acknowledged by:</div>
                            <div style="display: flex; flex-wrap: wrap; gap: 5px;">
                                ${announcement.acknowledgements.map(a => 
                                    `<span style="font-size: 12px;">${a.name} (${a.role})</span>`
                                ).join(', ')}
                            </div>
                        </div>`;
                }
                
                announcementElement.innerHTML = `
                    <div class="announcement-header">
                        <img src="${announcement.avatar}" alt="${announcement.author}" class="announcement-avatar">
                        <div class="announcement-info">
                            <div class="announcement-author">${announcement.author}</div>
                            <div class="announcement-meta">
                                <span>${announcement.role} ‚Ä¢ ${announcement.timestamp}</span>
                                <span class="visibility-badge ${badgeClass}">${badgeText}</span>
                            </div>
                        </div>
                    </div>
                    <div class="announcement-content">${announcement.content}</div>
                    ${acknowledgementsHtml}
                    ${mediaHtml}
                    <div class="announcement-actions">
                        <button class="action-btn ${announcement.liked ? 'active' : ''}" onclick="likeAnnouncement(${announcement.id})">
                            üëç Like (${announcement.likes})
                        </button>
                        <button class="action-btn" onclick="acknowledgeAnnouncement(${announcement.id})">
                            ‚úî Acknowledge (${announcement.acknowledgements ? announcement.acknowledgements.length : 0})
                        </button>
                        <button class="action-btn">
                            üí¨ Comment (${announcement.comments})
                        </button>
                        <button class="action-btn" ${announcement.allowDebate ? '' : 'disabled'} onclick="openDebateRoom(${announcement.id})">
                            üí¨ Debate (${announcement.allowDebate ? 'Enabled' : 'Disabled'})
                        </button>
                        <button class="action-btn">
                            üîÑ Share (${announcement.shares})
                        </button>
                    </div>
                `;
                
                feed.appendChild(announcementElement);
            });
        }
        
        // Initialize announcements
        renderAnnouncements();
        
        // Pending Requests
        let pendingRequests = [
            {
                id: 1,
                name: "John Doe",
                email: "john.doe@example.com",
                phone: "+1 (555) 123-4567",
                position: "Senior Developer",
                department: "Engineering",
                role: "employee",
                submitted: "2 hours ago",
                cvUrl: "https://example.com/cv.pdf",
                idUrl: "https://example.com/id.jpg"
            },
            {
                id: 2,
                name: "Jane Smith",
                email: "jane.smith@example.com",
                phone: "+1 (555) 987-6543",
                position: "Marketing Manager",
                department: "Marketing",
                role: "employee",
                submitted: "5 hours ago",
                cvUrl: "https://example.com/cv.pdf"
            },
            {
                id: 3,
                name: "Robert Wilson",
                email: "robert.wilson@example.com",
                phone: "+1 (555) 456-7890",
                position: "Finance Analyst",
                department: "Finance",
                role: "board",
                submitted: "1 day ago",
                cvUrl: "https://example.com/cv.pdf",
                idUrl: "https://example.com/id.jpg"
            }
        ];
        
        function loadPendingRequests() {
            const pendingList = document.getElementById('pendingList');
            const badge = document.getElementById('pendingBadge');
            const ceoPendingCount = document.getElementById('ceoPendingCount');
            
            badge.textContent = pendingRequests.length;
            ceoPendingCount.textContent = pendingRequests.length;
            
            if (pendingRequests.length === 0) {
                pendingList.innerHTML = `
                    <div class="portal-card" style="text-align: center; padding: 40px;">
                        <div style="font-size: 48px;">‚úÖ</div>
                        <h3>No Pending Requests</h3>
                        <p style="color: var(--muted);">All requests have been reviewed.</p>
                    </div>
                `;
                return;
            }
            
            pendingList.innerHTML = pendingRequests.map(request => `
                <div class="pending-card">
                    <div class="pending-header">
                        <div>
                            <h3 style="margin: 0;">${request.name}</h3>
                            <p style="color: var(--muted); margin: 5px 0;">${request.position} ‚Ä¢ ${request.department}</p>
                            <p style="font-size: 12px; color: var(--muted);">Applied as: <strong>${request.role === 'board' ? 'Board Member' : 'Employee'}</strong></p>
                        </div>
                        <div class="pending-actions">
                            <button class="btn btn-danger" onclick="declineRequestPrompt(${request.id})">Decline</button>
                            <button class="btn btn-success" onclick="approveRequestPrompt(${request.id})">Approve</button>
                        </div>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">${request.email}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Phone:</span>
                        <span class="info-value">${request.phone}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Submitted:</span>
                        <span class="info-value">${request.submitted}</span>
                    </div>
                    <div style="margin-top: 15px; display: flex; gap: 10px;">
                        ${request.cvUrl ? '<button class="btn btn-secondary" onclick="viewCV(' + request.id + ')">View CV</button>' : ''}
                        ${request.idUrl ? '<button class="btn btn-secondary" onclick="viewID(' + request.id + ')">View ID</button>' : ''}
                        <button class="btn btn-primary" onclick="viewFullRequest(${request.id})">View Full Details</button>
                    </div>
                </div>
            `).join('');
        }
        
        function approveRequestPrompt(requestId) {
            currentPendingRequestId = requestId;
            const request = pendingRequests.find(r => r.id === requestId);
            
            document.getElementById('approvalModalContent').innerHTML = `
                <h3>Approve ${request.name}</h3>
                <p>Are you sure you want to approve <strong>${request.name}</strong> as <strong>${request.role === 'board' ? 'Board Member' : 'Employee'}</strong>?</p>
                <p>An email with auto-generated password will be sent to <strong>${request.email}</strong>.</p>
                
                <div class="form-group" style="margin-top: 20px;">
                    <label class="form-label">Custom Message (Optional)</label>
                    <textarea class="form-textarea" id="approvalMessage" placeholder="Add a welcome message..." rows="3"></textarea>
                </div>
            `;
            
            document.getElementById('approvalModal').style.display = 'flex';
        }
        
        function declineRequestPrompt(requestId) {
            currentPendingRequestId = requestId;
            const request = pendingRequests.find(r => r.id === requestId);
            
            if (confirm(`Are you sure you want to decline ${request.name}'s application?\nThis action cannot be undone.`)) {
                declineRequest();
            }
        }
        
        function approveRequest() {
            const message = document.getElementById('approvalMessage').value;
            const request = pendingRequests.find(r => r.id === currentPendingRequestId);
            
            // Generate random password
            const password = generatePassword();
            
            // In production: Send email with password
            alert(`Approved! Password ${password} sent to ${request.email}\nMessage: ${message || 'No message provided'}`);
            
            // Remove from pending requests
            pendingRequests = pendingRequests.filter(r => r.id !== currentPendingRequestId);
            
            // Update UI
            loadPendingRequests();
            closeModal('approvalModal');
            
            // Show success message
            alert(`‚úÖ ${request.name} has been approved and can now access the organization.`);
        }
        
        function declineRequest() {
            const request = pendingRequests.find(r => r.id === currentPendingRequestId);
            
            // In production: Send decline email
            alert(`Declined! Notification sent to ${request.email}`);
            
            // Remove from pending requests
            pendingRequests = pendingRequests.filter(r => r.id !== currentPendingRequestId);
            
            // Update UI
            loadPendingRequests();
            closeModal('approvalModal');
        }
        
        function generatePassword() {
            const length = 12;
            const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";
            let password = "";
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }
            return password;
        }
        
        function refreshPendingRequests() {
            // Simulate fetching new requests
            alert('Refreshing pending requests...');
            loadPendingRequests();
        }
        
        // Employees
        let employees = [
            {
                id: 1,
                name: "John Doe",
                avatar: "https://i.pravatar.cc/100?img=8",
                position: "Senior Developer",
                department: "Engineering",
                level: "Senior",
                status: "active",
                joinDate: "Mar 15, 2023",
                email: "john.doe@techinnovations.com"
            },
            {
                id: 2,
                name: "Jane Smith",
                avatar: "https://i.pravatar.cc/100?img=11",
                position: "Marketing Manager",
                department: "Marketing",
                level: "Manager",
                status: "active",
                joinDate: "Feb 20, 2023",
                email: "jane.smith@techinnovations.com"
            },
            {
                id: 3,
                name: "Mike Johnson",
                avatar: "https://i.pravatar.cc/100?img=12",
                position: "Junior Developer",
                department: "Engineering",
                level: "Junior",
                status: "active",
                joinDate: "Apr 10, 2024",
                email: "mike.johnson@techinnovations.com"
            },
            {
                id: 4,
                name: "Sarah Williams",
                avatar: "https://i.pravatar.cc/100?img=13",
                position: "Sales Executive",
                department: "Sales",
                level: "Senior",
                status: "suspended",
                joinDate: "Jan 5, 2023",
                email: "sarah.williams@techinnovations.com"
            }
        ];
        
        function loadEmployees() {
            const employeeGrid = document.getElementById('employeeGrid');
            
            employeeGrid.innerHTML = employees.map(employee => `
                <div class="portal-card">
                    <div class="portal-header">
                        <img src="${employee.avatar}" class="portal-avatar" alt="${employee.name}">
                        <div>
                            <h2 class="portal-title">${employee.name}</h2>
                            <p class="portal-subtitle">${employee.position}</p>
                        </div>
                    </div>
                    
                    <div class="info-row">
                        <span class="info-label">Department:</span>
                        <span class="info-value">${employee.department}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Level:</span>
                        <span class="info-value">${employee.level}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Status:</span>
                        <span class="info-value status-${employee.status}">‚óè ${employee.status.charAt(0).toUpperCase() + employee.status.slice(1)}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Join Date:</span>
                        <span class="info-value">${employee.joinDate}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Email:</span>
                        <span class="info-value">${employee.email}</span>
                    </div>
                    
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <button class="btn btn-secondary" onclick="viewEmployee(${employee.id})">View</button>
                        <button class="btn btn-warning" onclick="suspendEmployee(${employee.id})" ${employee.status === 'suspended' ? 'disabled' : ''}>Suspend</button>
                        <button class="btn btn-danger" onclick="removeEmployee(${employee.id})">Remove</button>
                    </div>
                </div>
            `).join('');
        }
        
        // Debate Room
        function loadDebateMessages() {
            const messagesContainer = document.getElementById('debateMessages');
            
            // Sample debate messages
            debateMessages = [
                {
                    id: 1,
                    sender: "Alex Johnson",
                    role: "CEO",
                    avatar: "https://i.pravatar.cc/100?img=5",
                    content: "What are everyone's thoughts on the new performance review system?",
                    time: "10:30 AM",
                    sent: true
                },
                {
                    id: 2,
                    sender: "Sarah Chen",
                    role: "HR Director",
                    avatar: "https://i.pravatar.cc/100?img=2",
                    content: "I think it's a great improvement. The new metrics are more comprehensive.",
                    time: "10:35 AM",
                    sent: false
                },
                {
                    id: 3,
                    sender: "Michael Brown",
                    role: "Finance Director",
                    avatar: "https://i.pravatar.cc/100?img=1",
                    content: "Agreed. The financial performance indicators are much clearer now.",
                    time: "10:40 AM",
                    sent: false
                }
            ];
            
            messagesContainer.innerHTML = debateMessages.map(msg => `
                <div class="message ${msg.sent ? 'sent' : ''}">
                    <div class="message-header">
                        <img src="${msg.avatar}" style="width: 24px; height: 24px; border-radius: 50%;" alt="${msg.sender}">
                        <span class="message-sender">${msg.sender}</span>
                        <span class="message-role">${msg.role}</span>
                        <span class="message-time">${msg.time}</span>
                    </div>
                    <div class="message-content">${msg.content}</div>
                </div>
            `).join('');
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function sendDebateMessage() {
            const input = document.getElementById('debateMessage');
            const content = input.value.trim();
            
            if (!content) return;
            
            const newMessage = {
                id: debateMessages.length + 1,
                sender: "Alex Johnson",
                role: "CEO",
                avatar: "https://i.pravatar.cc/100?img=5",
                content: content,
                time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
                sent: true
            };
            
            debateMessages.push(newMessage);
            loadDebateMessages();
            input.value = '';
        }
        
        // Modal functions
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        function showDelegationModal() {
            document.getElementById('delegationModal').style.display = 'flex';
        }
        
        function saveDelegation() {
            const delegateTo = document.getElementById('delegateTo').value;
            const permissions = [];
            
            if (document.getElementById('permPost').checked) permissions.push('POST_ANNOUNCEMENTS');
            if (document.getElementById('permApprove').checked) permissions.push('APPROVE_EMPLOYEES');
            if (document.getElementById('permManage').checked) permissions.push('MANAGE_EMPLOYEES');
            if (document.getElementById('permEdit').checked) permissions.push('EDIT_ORG_PROFILE');
            
            if (!delegateTo || permissions.length === 0) {
                alert('Please select a board member and at least one permission');
                return;
            }
            
            const validUntil = document.getElementById('delegateUntil').value;
            
            alert(`Delegated permissions to ${delegateTo}\nPermissions: ${permissions.join(', ')}\nValid until: ${validUntil || 'Indefinite'}`);
            
            closeModal('delegationModal');
            
            // Reset form
            document.getElementById('delegateTo').value = '';
            document.getElementById('permPost').checked = false;
            document.getElementById('permApprove').checked = false;
            document.getElementById('permManage').checked = false;
            document.getElementById('permEdit').checked = false;
            document.getElementById('delegateUntil').value = '';
        }
        
        function revokeDelegation(delegationId) {
            if (confirm('Are you sure you want to revoke this delegation?')) {
                alert('Delegation revoked successfully');
                // In production: Update Firestore
            }
        }
        
        // Employee actions
        function suspendEmployee(employeeId) {
            const employee = employees.find(e => e.id === employeeId);
            if (confirm(`Suspend ${employee.name}? They will lose access to the organization.`)) {
                employee.status = 'suspended';
                loadEmployees();
                alert(`${employee.name} has been suspended`);
            }
        }
        
        function removeEmployee(employeeId) {
            const employee = employees.find(e => e.id === employeeId);
            if (confirm(`Permanently remove ${employee.name} from the organization? This cannot be undone.`)) {
                employees = employees.filter(e => e.id !== employeeId);
                loadEmployees();
                alert(`${employee.name} has been removed`);
            }
        }
        
        function showAllEmployees() {
            alert('Showing all employees...');
            // In production: Show modal or navigate to detailed employee list
        }
        
        // Initialize
        showSection('announcements');
        loadPendingRequests();
        loadEmployees();
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        };
    </script>
</body>
</html>
